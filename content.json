[{"title":"Hibernate","date":"2018-04-28T05:25:41.000Z","path":"/posts/25673/","text":"Hibernate 小结 Hibernate简介:Hibernate是一个开放源码的对象关系映射框架,他对JDBC进行了轻量级的对象封装它将实体类和数据库建立映射关系,是一个全自动的ORM框架,是java持久层框架之一 Hibernate的优势:1.对JDBC进行了轻量级的对象封装,简化了DAO层繁琐的重复性代码,减少了内存消耗,加快了运行效率 2.Hibernate是一个基于JDBC的主流持久化框架，是一个优秀的ORM实现，简化了DAO层编码工作 3.Hibernate支持很多关系型数据库 4.开放源码,可扩展性强 ORM:对象关系映射:就是实体类和数据库表建立对应关系 通过Hibernate映射文件和Hibernate的核心配置文件实现 操作对象就相当于操作数据库表 执行原理: 1.get()在程序运行期间利用反射技术动态创建对象 2.根据hbm配置文件调用set方法进行绑定一一映射 实体类:1.实现序列化接口 2.私有化成员变量 3.提供无参构造(Hibernate反射创建对象用) 4.提供set/get方法 持久态对象的三种状态:1.瞬时态:不存在持久化标识OID 尚未与Hibernate Session关联对象,数据库中没有相应记录 2.持久态:存在持久化标识OID,与当前session有关联,并且关联的session没有关闭,数据库中有相应记录 3.托管态:存在持久化标识OID,与当前session没有关联,在数据库中有相应记录 Hibernate的一级缓存和二级缓存Hibernate向一级缓存存放数据时(保存在session中),同时保存快照数据(快照数据不可操作),当修改一级缓存中的数据进行flush操作时,会将session的数据和快照中的数据进行对比,若不一致,则会将session一级缓存中的数据更新到数据库中,同时更新快照区 get和load的区别:get如果没有找到会返回null,load如果没有找到会抛出异常 get会先查一级缓存,再查二级缓存,然后再查数据库 load会先查一级缓存,如果没找到就创建代理对象,等需要的时候去查询二级缓存和数据库(延迟加载) SessionFactory:SessionFactory是一个用于创建Session对象的工厂,是线程安全的,所以多个线程可以同时使用一个 SessionFactory.同时它里面还包含着对象关系映射有关的所以元数据,他是不可变的,一旦创建好就不能进行修改","tags":[{"name":"ssh","slug":"ssh","permalink":"http://ellisl.club/tags/ssh/"}]},{"title":"从前慢","date":"2018-04-28T05:06:24.000Z","path":"/posts/24768/","text":"记得早先少年时 大家诚诚恳恳 说一句 是一句 清早上火车站 长街黑暗无行人 卖豆浆的小店冒着热气 从前的日色变得慢 车，马，邮件都慢 一生只够爱一个人 从前的锁也好看 钥匙精美有样子 你锁了 人家就懂了—木心","tags":[{"name":"poem","slug":"poem","permalink":"http://ellisl.club/tags/poem/"}]}]